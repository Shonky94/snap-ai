// Emoji Service - Keyword matching and auto-placement logic

export interface EmojiCategory {
  id: string;
  name: string;
  icon: string;
  emojis: string[];
}

// Comprehensive emoji library organized by category
export const EMOJI_CATEGORIES: EmojiCategory[] = [
  {
    id: 'smileys',
    name: 'Smileys & People',
    icon: 'ðŸ˜Š',
    emojis: [
      'ðŸ˜€', 'ðŸ˜ƒ', 'ðŸ˜„', 'ðŸ˜', 'ðŸ˜†', 'ðŸ˜…', 'ðŸ¤£', 'ðŸ˜‚',
      'ðŸ™‚', 'ðŸ™ƒ', 'ðŸ˜‰', 'ðŸ˜Š', 'ðŸ˜‡', 'ðŸ¥°', 'ðŸ˜', 'ðŸ¤©',
      'ðŸ˜˜', 'ðŸ˜—', 'ðŸ˜š', 'ðŸ˜™', 'ðŸ˜‹', 'ðŸ˜›', 'ðŸ˜œ', 'ðŸ¤ª',
      'ðŸ˜', 'ðŸ¤‘', 'ðŸ¤—', 'ðŸ¤­', 'ðŸ¤«', 'ðŸ¤”', 'ðŸ¤', 'ðŸ¤¨',
      'ðŸ˜', 'ðŸ˜‘', 'ðŸ˜¶', 'ðŸ˜', 'ðŸ˜’', 'ðŸ™„', 'ðŸ˜¬', 'ðŸ¤¥',
      'ðŸ˜Œ', 'ðŸ˜”', 'ðŸ˜ª', 'ðŸ¤¤', 'ðŸ˜´', 'ðŸ˜·', 'ðŸ¤’', 'ðŸ¤•',
      'ðŸ¤¢', 'ðŸ¤®', 'ðŸ¤§', 'ðŸ¥µ', 'ðŸ¥¶', 'ðŸ˜µ', 'ðŸ¤¯', 'ðŸ¤ ',
      'ðŸ¥³', 'ðŸ˜Ž', 'ðŸ¤“', 'ðŸ§', 'ðŸ˜•', 'ðŸ˜Ÿ', 'ðŸ™', 'â˜¹ï¸',
      'ðŸ˜®', 'ðŸ˜¯', 'ðŸ˜²', 'ðŸ˜³', 'ðŸ¥º', 'ðŸ˜¦', 'ðŸ˜§', 'ðŸ˜¨',
      'ðŸ˜°', 'ðŸ˜¥', 'ðŸ˜¢', 'ðŸ˜­', 'ðŸ˜±', 'ðŸ˜–', 'ðŸ˜£', 'ðŸ˜ž',
      'ðŸ‘‹', 'ðŸ¤š', 'ðŸ–ï¸', 'âœ‹', 'ðŸ––', 'ðŸ‘Œ', 'ðŸ¤', 'âœŒï¸',
      'ðŸ¤ž', 'ðŸ¤Ÿ', 'ðŸ¤˜', 'ðŸ¤™', 'ðŸ‘ˆ', 'ðŸ‘‰', 'ðŸ‘†', 'ðŸ–•',
      'ðŸ‘‡', 'â˜ï¸', 'ðŸ‘', 'ðŸ‘Ž', 'âœŠ', 'ðŸ‘Š', 'ðŸ¤›', 'ðŸ¤œ',
      'ðŸ‘', 'ðŸ™Œ', 'ðŸ‘', 'ðŸ¤²', 'ðŸ¤', 'ðŸ™', 'ðŸ’ª', 'ðŸ¦¾',
    ]
  },
  {
    id: 'animals',
    name: 'Animals & Nature',
    icon: 'ðŸ¶',
    emojis: [
      'ðŸ¶', 'ðŸ±', 'ðŸ­', 'ðŸ¹', 'ðŸ°', 'ðŸ¦Š', 'ðŸ»', 'ðŸ¼',
      'ðŸ¨', 'ðŸ¯', 'ðŸ¦', 'ðŸ®', 'ðŸ·', 'ðŸ½', 'ðŸ¸', 'ðŸµ',
      'ðŸ™ˆ', 'ðŸ™‰', 'ðŸ™Š', 'ðŸ’', 'ðŸ”', 'ðŸ§', 'ðŸ¦', 'ðŸ¤',
      'ðŸ£', 'ðŸ¥', 'ðŸ¦†', 'ðŸ¦…', 'ðŸ¦‰', 'ðŸ¦‡', 'ðŸº', 'ðŸ—',
      'ðŸ´', 'ðŸ¦„', 'ðŸ', 'ðŸ›', 'ðŸ¦‹', 'ðŸŒ', 'ðŸž', 'ðŸœ',
      'ðŸ¦Ÿ', 'ðŸ¦—', 'ðŸ•·ï¸', 'ðŸ•¸ï¸', 'ðŸ¦‚', 'ðŸ¢', 'ðŸ', 'ðŸ¦Ž',
      'ðŸ¦–', 'ðŸ¦•', 'ðŸ™', 'ðŸ¦‘', 'ðŸ¦', 'ðŸ¦ž', 'ðŸ¦€', 'ðŸ¡',
      'ðŸ ', 'ðŸŸ', 'ðŸ¬', 'ðŸ³', 'ðŸ‹', 'ðŸ¦ˆ', 'ðŸŠ', 'ðŸ…',
      'ðŸ†', 'ðŸ¦“', 'ðŸ¦', 'ðŸ¦§', 'ðŸ˜', 'ðŸ¦›', 'ðŸ¦', 'ðŸª',
      'ðŸ«', 'ðŸ¦’', 'ðŸ¦˜', 'ðŸƒ', 'ðŸ‚', 'ðŸ„', 'ðŸŽ', 'ðŸ–',
      'ðŸ', 'ðŸ‘', 'ðŸ¦™', 'ðŸ', 'ðŸ¦Œ', 'ðŸ•', 'ðŸ©', 'ðŸ¦®',
      'ðŸ•â€ðŸ¦º', 'ðŸˆ', 'ðŸ“', 'ðŸ¦ƒ', 'ðŸ¦š', 'ðŸ¦œ', 'ðŸ¦¢', 'ðŸ¦©',
      'ðŸŒ¸', 'ðŸ’®', 'ðŸµï¸', 'ðŸŒ¹', 'ðŸ¥€', 'ðŸŒº', 'ðŸŒ»', 'ðŸŒ¼',
      'ðŸŒ·', 'ðŸŒ±', 'ðŸŒ²', 'ðŸŒ³', 'ðŸŒ´', 'ðŸŒµ', 'ðŸŒ¾', 'ðŸŒ¿',
      'â˜˜ï¸', 'ðŸ€', 'ðŸ', 'ðŸ‚', 'ðŸƒ', 'ðŸŒ', 'ðŸŒŽ', 'ðŸŒ',
    ]
  },
  {
    id: 'food',
    name: 'Food & Drink',
    icon: 'ðŸ•',
    emojis: [
      'ðŸŽ', 'ðŸ', 'ðŸŠ', 'ðŸ‹', 'ðŸŒ', 'ðŸ‰', 'ðŸ‡', 'ðŸ“',
      'ðŸˆ', 'ðŸ’', 'ðŸ‘', 'ðŸ¥­', 'ðŸ', 'ðŸ¥¥', 'ðŸ¥', 'ðŸ…',
      'ðŸ†', 'ðŸ¥‘', 'ðŸ¥¦', 'ðŸ¥¬', 'ðŸ¥’', 'ðŸŒ¶ï¸', 'ðŸŒ½', 'ðŸ¥•',
      'ðŸ¥”', 'ðŸ ', 'ðŸ¥', 'ðŸ¥¯', 'ðŸž', 'ðŸ¥–', 'ðŸ¥¨', 'ðŸ§€',
      'ðŸ¥š', 'ðŸ³', 'ðŸ§ˆ', 'ðŸ¥ž', 'ðŸ§‡', 'ðŸ¥“', 'ðŸ¥©', 'ðŸ—',
      'ðŸ–', 'ðŸ¦´', 'ðŸŒ­', 'ðŸ”', 'ðŸŸ', 'ðŸ•', 'ðŸ¥ª', 'ðŸ¥™',
      'ðŸ§†', 'ðŸŒ®', 'ðŸŒ¯', 'ðŸ¥—', 'ðŸ¥˜', 'ðŸ¥«', 'ðŸ', 'ðŸœ',
      'ðŸ²', 'ðŸ›', 'ðŸ£', 'ðŸ±', 'ðŸ¥Ÿ', 'ðŸ¦', 'ðŸ¤', 'ðŸ™',
      'ðŸš', 'ðŸ˜', 'ðŸ¥', 'ðŸ¥ ', 'ðŸ¥®', 'ðŸ¢', 'ðŸ¡', 'ðŸ§',
      'ðŸ¨', 'ðŸ¦', 'ðŸ¥§', 'ðŸ§', 'ðŸ°', 'ðŸŽ‚', 'ðŸ®', 'ðŸ­',
      'ðŸ¬', 'ðŸ«', 'ðŸ¿', 'ðŸ©', 'ðŸª', 'ðŸŒ°', 'ðŸ¥œ', 'ðŸ¯',
      'ðŸ¥›', 'ðŸ¼', 'â˜•', 'ðŸµ', 'ðŸ§ƒ', 'ðŸ¥¤', 'ðŸ¶', 'ðŸº',
      'ðŸ»', 'ðŸ¥‚', 'ðŸ·', 'ðŸ¥ƒ', 'ðŸ¸', 'ðŸ¹', 'ðŸ§‰', 'ðŸ¾',
    ]
  },
  {
    id: 'activities',
    name: 'Activities & Sports',
    icon: 'âš½',
    emojis: [
      'âš½', 'ðŸ€', 'ðŸˆ', 'âš¾', 'ðŸ¥Ž', 'ðŸŽ¾', 'ðŸ', 'ðŸ‰',
      'ðŸ¥', 'ðŸŽ±', 'ðŸª€', 'ðŸ“', 'ðŸ¸', 'ðŸ’', 'ðŸ‘', 'ðŸ¥',
      'ðŸ', 'ðŸ¥…', 'â›³', 'ðŸª', 'ðŸ¹', 'ðŸŽ£', 'ðŸ¤¿', 'ðŸ¥Š',
      'ðŸ¥‹', 'ðŸŽ½', 'ðŸ›¹', 'ðŸ›¼', 'ðŸ›·', 'â›¸ï¸', 'ðŸ¥Œ', 'ðŸŽ¿',
      'â›·ï¸', 'ðŸ‚', 'ðŸª‚', 'ðŸ‹ï¸', 'ðŸ¤¼', 'ðŸ¤¸', 'ðŸ¤º', 'â›¹ï¸',
      'ðŸ¤¾', 'ðŸŒï¸', 'ðŸ‡', 'ðŸ§˜', 'ðŸŠ', 'ðŸ¤½', 'ðŸš£', 'ðŸ§—',
      'ðŸš´', 'ðŸšµ', 'ðŸŽ¯', 'ðŸŽ®', 'ðŸ•¹ï¸', 'ðŸŽ°', 'ðŸŽ²', 'ðŸ§©',
      'â™Ÿï¸', 'ðŸŽ­', 'ðŸŽ¨', 'ðŸ§µ', 'ðŸ§¶', 'ðŸŽ¬', 'ðŸŽ¤', 'ðŸŽ§',
      'ðŸŽ¼', 'ðŸŽ¹', 'ðŸ¥', 'ðŸŽ·', 'ðŸŽº', 'ðŸŽ¸', 'ðŸª•', 'ðŸŽ»',
      'ðŸŽª', 'ðŸŽŸï¸', 'ðŸŽ«', 'ðŸŽ—ï¸', 'ðŸ†', 'ðŸ…', 'ðŸ¥‡', 'ðŸ¥ˆ',
      'ðŸ¥‰', 'ðŸŽ–ï¸',
    ]
  },
  {
    id: 'travel',
    name: 'Travel & Places',
    icon: 'âœˆï¸',
    emojis: [
      'ðŸš—', 'ðŸš•', 'ðŸš™', 'ðŸšŒ', 'ðŸšŽ', 'ðŸŽï¸', 'ðŸš“', 'ðŸš‘',
      'ðŸš’', 'ðŸš', 'ðŸšš', 'ðŸš›', 'ðŸšœ', 'ðŸ¦¯', 'ðŸ¦½', 'ðŸ¦¼',
      'ðŸ›´', 'ðŸš²', 'ðŸ›µ', 'ðŸï¸', 'ðŸ›º', 'ðŸš¨', 'ðŸš”', 'ðŸš',
      'ðŸš˜', 'ðŸš–', 'ðŸš¡', 'ðŸš ', 'ðŸšŸ', 'ðŸšƒ', 'ðŸš‹', 'ðŸšž',
      'ðŸš', 'ðŸš„', 'ðŸš…', 'ðŸšˆ', 'ðŸš‚', 'ðŸš†', 'ðŸš‡', 'ðŸšŠ',
      'ðŸš‰', 'âœˆï¸', 'ðŸ›«', 'ðŸ›¬', 'ðŸ›©ï¸', 'ðŸ’º', 'ðŸ›°ï¸', 'ðŸš€',
      'ðŸ›¸', 'ðŸš', 'ðŸ›¶', 'â›µ', 'ðŸš¤', 'ðŸ›¥ï¸', 'ðŸ›³ï¸', 'â›´ï¸',
      'ðŸš¢', 'âš“', 'â›½', 'ðŸš§', 'ðŸš¦', 'ðŸš¥', 'ðŸ', 'ðŸš',
      'ðŸ—ºï¸', 'ðŸ—¿', 'ðŸ—½', 'ðŸ—¼', 'ðŸ°', 'ðŸ¯', 'ðŸŸï¸', 'ðŸŽ¡',
      'ðŸŽ¢', 'ðŸŽ ', 'â›²', 'â›±ï¸', 'ðŸ–ï¸', 'ðŸï¸', 'ðŸœï¸', 'ðŸŒ‹',
      'â›°ï¸', 'ðŸ”ï¸', 'ðŸ—»', 'ðŸ•ï¸', 'â›º', 'ðŸ ', 'ðŸ¡', 'ðŸ˜ï¸',
      'ðŸšï¸', 'ðŸ—ï¸', 'ðŸ­', 'ðŸ¢', 'ðŸ¬', 'ðŸ£', 'ðŸ¤', 'ðŸ¥',
      'ðŸ¦', 'ðŸ¨', 'ðŸª', 'ðŸ«', 'ðŸ©', 'ðŸ’’', 'ðŸ›ï¸', 'â›ª',
      'ðŸ•Œ', 'ðŸ•', 'ðŸ›•', 'ðŸ•‹', 'â›©ï¸', 'ðŸ—¾',
    ]
  },
  {
    id: 'objects',
    name: 'Objects & Symbols',
    icon: 'ðŸ’¡',
    emojis: [
      'âŒš', 'ðŸ“±', 'ðŸ“²', 'ðŸ’»', 'âŒ¨ï¸', 'ðŸ–¥ï¸', 'ðŸ–¨ï¸', 'ðŸ–±ï¸',
      'ðŸ–²ï¸', 'ðŸ•¹ï¸', 'ðŸ—œï¸', 'ðŸ’½', 'ðŸ’¾', 'ðŸ’¿', 'ðŸ“€', 'ðŸ“¼',
      'ðŸ“·', 'ðŸ“¸', 'ðŸ“¹', 'ðŸŽ¥', 'ðŸ“½ï¸', 'ðŸŽžï¸', 'ðŸ“ž', 'â˜Žï¸',
      'ðŸ“Ÿ', 'ðŸ“ ', 'ðŸ“º', 'ðŸ“»', 'ðŸŽ™ï¸', 'ðŸŽšï¸', 'ðŸŽ›ï¸', 'ðŸ§­',
      'â±ï¸', 'â²ï¸', 'â°', 'ðŸ•°ï¸', 'âŒ›', 'â³', 'ðŸ“¡', 'ðŸ”‹',
      'ðŸ”Œ', 'ðŸ’¡', 'ðŸ”¦', 'ðŸ•¯ï¸', 'ðŸ§¯', 'ðŸ›¢ï¸', 'ðŸ’¸', 'ðŸ’µ',
      'ðŸ’´', 'ðŸ’¶', 'ðŸ’·', 'ðŸ’°', 'ðŸ’³', 'ðŸ’Ž', 'âš–ï¸', 'ðŸ§°',
      'ðŸ”§', 'ðŸ”¨', 'âš’ï¸', 'ðŸ› ï¸', 'â›ï¸', 'ðŸ”©', 'âš™ï¸', 'ðŸ§±',
      'â›“ï¸', 'ðŸ§²', 'ðŸ”«', 'ðŸ’£', 'ðŸ§¨', 'ðŸ”ª', 'ðŸ—¡ï¸', 'âš”ï¸',
      'ðŸ›¡ï¸', 'ðŸš¬', 'âš°ï¸', 'âš±ï¸', 'ðŸº', 'ðŸ”®', 'ðŸ“¿', 'ðŸ§¿',
      'ðŸ’ˆ', 'âš—ï¸', 'ðŸ”­', 'ðŸ”¬', 'ðŸ•³ï¸', 'ðŸ’Š', 'ðŸ’‰', 'ðŸ©¸',
      'ðŸ©¹', 'ðŸ©º', 'ðŸŒ¡ï¸', 'ðŸ§¬', 'ðŸ¦ ', 'ðŸ§«', 'ðŸ§ª', 'ðŸŒ‚',
      'â˜‚ï¸', 'ðŸ§µ', 'ðŸ§¶', 'ðŸª¡', 'ðŸª¢', 'ðŸ§¥', 'ðŸ¥¼', 'ðŸ¦º',
      'ðŸ‘”', 'ðŸ‘•', 'ðŸ‘–', 'ðŸ§£', 'ðŸ§¤', 'ðŸ§¦', 'ðŸ‘—', 'ðŸ‘˜',
      'ðŸ¥»', 'ðŸ©±', 'ðŸ©²', 'ðŸ©³', 'ðŸ‘™', 'ðŸ‘š', 'ðŸ‘›', 'ðŸ‘œ',
      'ðŸ‘', 'ðŸŽ’', 'ðŸ‘ž', 'ðŸ‘Ÿ', 'ðŸ¥¾', 'ðŸ¥¿', 'ðŸ‘ ', 'ðŸ‘¡',
      'ðŸ©°', 'ðŸ‘¢', 'ðŸ‘‘', 'ðŸ‘’', 'ðŸŽ©', 'ðŸŽ“', 'ðŸ§¢', 'â›‘ï¸',
      'ðŸ’„', 'ðŸ’', 'ðŸ’¼', 'ðŸŽ€', 'ðŸŽ', 'ðŸŽˆ', 'ðŸŽ‰', 'ðŸŽŠ',
      'ðŸŽ‹', 'ðŸŽŒ', 'ðŸŽ', 'ðŸŽ', 'ðŸ§§', 'âœ‰ï¸', 'ðŸ“©', 'ðŸ“¨',
      'ðŸ“§', 'ðŸ’Œ', 'ðŸ“®', 'ðŸ“ª', 'ðŸ“«', 'ðŸ“¬', 'ðŸ“­', 'ðŸ“¦',
      'ðŸ“¯', 'ðŸ“¥', 'ðŸ“¤', 'ðŸ“œ', 'ðŸ“ƒ', 'ðŸ“„', 'ðŸ“‘', 'ðŸ§¾',
      'ðŸ“Š', 'ðŸ“ˆ', 'ðŸ“‰', 'ðŸ“‡', 'ðŸ—ƒï¸', 'ðŸ—³ï¸', 'ðŸ—„ï¸', 'ðŸ“‹',
      'ðŸ“', 'ðŸ“‚', 'ðŸ—‚ï¸', 'ðŸ—žï¸', 'ðŸ“°', 'ðŸ““', 'ðŸ“”', 'ðŸ“’',
      'ðŸ“•', 'ðŸ“—', 'ðŸ“˜', 'ðŸ“™', 'ðŸ“š', 'ðŸ“–', 'ðŸ”–', 'ðŸ§·',
      'ðŸ”—', 'ðŸ“Ž', 'ðŸ–‡ï¸', 'ðŸ“', 'ðŸ“', 'ðŸ§®', 'ðŸ“Œ', 'ðŸ“',
      'âœ‚ï¸', 'ðŸ–Šï¸', 'ðŸ–‹ï¸', 'âœ’ï¸', 'ðŸ–Œï¸', 'ðŸ–ï¸', 'ðŸ“', 'âœï¸',
      'ðŸ”', 'ðŸ”Ž', 'ðŸ”', 'ðŸ”', 'ðŸ”’', 'ðŸ”“', 'â¤ï¸', 'ðŸ§¡',
      'ðŸ’›', 'ðŸ’š', 'ðŸ’™', 'ðŸ’œ', 'ðŸ–¤', 'ðŸ¤', 'ðŸ¤Ž', 'ðŸ’”',
      'â£ï¸', 'ðŸ’•', 'ðŸ’ž', 'ðŸ’“', 'ðŸ’—', 'ðŸ’–', 'ðŸ’˜', 'ðŸ’',
      'â­', 'ðŸŒŸ', 'âœ¨', 'âš¡', 'ðŸ’¥', 'ðŸ”¥', 'â˜€ï¸', 'ðŸŒˆ',
      'â˜ï¸', 'â›…', 'â›ˆï¸', 'ðŸŒ¤ï¸', 'ðŸŒ¥ï¸', 'ðŸŒ¦ï¸', 'ðŸŒ§ï¸', 'ðŸŒ¨ï¸',
      'ðŸŒ©ï¸', 'ðŸŒªï¸', 'ðŸŒ«ï¸', 'ðŸŒ¬ï¸', 'ðŸ’¨', 'ðŸ’§', 'ðŸ’¦', 'â˜”',
      'â˜ƒï¸', 'â›„', 'â„ï¸', 'ðŸŒ€', 'ðŸŒŠ', 'ðŸŒ™', 'â­',
    ]
  },
  {
    id: 'celebrations',
    name: 'Celebrations',
    icon: 'ðŸŽ‰',
    emojis: [
      'ðŸŽ‚', 'ðŸŽ', 'ðŸŽˆ', 'ðŸŽ‰', 'ðŸŽŠ', 'ðŸŽ€', 'ðŸŽ—ï¸', 'ðŸŽŸï¸',
      'ðŸŽ«', 'ðŸ†', 'ðŸ…', 'ðŸ¥‡', 'ðŸ¥ˆ', 'ðŸ¥‰', 'ðŸŽ–ï¸', 'ðŸŽ¯',
      'ðŸŽ°', 'ðŸŽ²', 'ðŸ§§', 'ðŸ’', 'ðŸ’', 'ðŸŒ¹', 'ðŸ’’', 'ðŸ’',
      'ðŸ‘‘', 'ðŸ¥³', 'ðŸŽ­', 'ðŸŽª', 'ðŸŽ¨', 'ðŸŽ¬', 'ðŸŽ¤', 'ðŸŽ§',
      'ðŸŽ¼', 'ðŸŽ¹', 'ðŸ¥', 'ðŸŽ·', 'ðŸŽº', 'ðŸŽ¸', 'ðŸŽ»', 'ðŸŽƒ',
      'ðŸŽ„', 'ðŸŽ†', 'ðŸŽ‡', 'ðŸ§¨', 'âœ¨', 'ðŸŽ‹', 'ðŸŽ', 'ðŸŽŽ',
      'ðŸŽ', 'ðŸŽ', 'ðŸ§§', 'ðŸª”', 'ðŸ•Ž', 'ðŸ”¯', 'ðŸª…', 'ðŸª†',
    ]
  },
];

// Get all emojis flattened
export const getAllEmojis = (): string[] => {
  return EMOJI_CATEGORIES.flatMap(cat => cat.emojis);
};

// Keyword to emoji mapping for auto-placement
const EMOJI_KEYWORDS: Record<string, string[]> = {
  // Emotions & Expressions
  'happy': ['ðŸ˜Š', 'ðŸ˜„', 'ðŸ˜', 'ðŸ¥°', 'ðŸ˜'],
  'love': ['â¤ï¸', 'ðŸ˜', 'ðŸ¥°', 'ðŸ’•', 'ðŸ’–'],
  'excited': ['ðŸ¤©', 'ðŸ˜†', 'ðŸŽ‰', 'âœ¨', 'â­'],
  'fun': ['ðŸŽ‰', 'ðŸ˜„', 'ðŸ¤ª', 'ðŸŽŠ', 'ðŸ¥³'],
  'celebrate': ['ðŸŽ‰', 'ðŸŽŠ', 'ðŸ¥³', 'ðŸŽˆ', 'ðŸŽ†'],
  'party': ['ðŸŽ‰', 'ðŸ¥³', 'ðŸŽŠ', 'ðŸ¾', 'ðŸŽˆ'],
  'cool': ['ðŸ˜Ž', 'ðŸ¤©', 'âœ¨', 'ðŸ”¥', 'â­'],
  'amazing': ['ðŸ¤©', 'ðŸ˜', 'âœ¨', 'â­', 'ðŸ’«'],
  'beautiful': ['ðŸ˜', 'ðŸ¥°', 'âœ¨', 'ðŸ’–', 'ðŸŒ¸'],
  'cute': ['ðŸ¥°', 'ðŸ˜', 'ðŸ’•', 'ðŸŒ¸', 'ðŸ’–'],
  'smile': ['ðŸ˜Š', 'ðŸ˜„', 'ðŸ˜', 'ðŸ™‚', 'ðŸ˜ƒ'],
  'laugh': ['ðŸ˜‚', 'ðŸ¤£', 'ðŸ˜†', 'ðŸ˜„', 'ðŸ˜'],
  
  // Nature & Outdoors
  'beach': ['ðŸ–ï¸', 'ðŸŒŠ', 'â˜€ï¸', 'ðŸŒ´', 'ðŸï¸'],
  'ocean': ['ðŸŒŠ', 'ðŸš', 'ðŸ ', 'ðŸ–ï¸', 'â›µ'],
  'sea': ['ðŸŒŠ', 'ðŸš', 'â›µ', 'ðŸ–ï¸', 'ðŸ '],
  'sunset': ['ðŸŒ…', 'ðŸŒ‡', 'â˜€ï¸', 'ðŸŒ„', 'ðŸ§¡'],
  'sunrise': ['ðŸŒ…', 'ðŸŒ„', 'â˜€ï¸', 'ðŸŒž', 'ðŸŒ»'],
  'sun': ['â˜€ï¸', 'ðŸŒž', 'ðŸŒ…', 'ðŸŒ»', 'ðŸŒ¼'],
  'moon': ['ðŸŒ™', 'ðŸŒ›', 'ðŸŒœ', 'ðŸŒš', 'âœ¨'],
  'star': ['â­', 'ðŸŒŸ', 'âœ¨', 'ðŸ’«', 'ðŸŒ '],
  'sky': ['â˜ï¸', 'ðŸŒ¤ï¸', 'ðŸŒˆ', 'â­', 'ðŸŒ™'],
  'rainbow': ['ðŸŒˆ', 'âœ¨', 'ðŸŒŸ', 'ðŸ’«', 'ðŸŽ¨'],
  'mountain': ['â›°ï¸', 'ðŸ”ï¸', 'ðŸ—»', 'ðŸ•ï¸', 'ðŸŒ²'],
  'forest': ['ðŸŒ²', 'ðŸŒ³', 'ðŸŒ¿', 'ðŸƒ', 'ðŸŒ¾'],
  'flower': ['ðŸŒ¸', 'ðŸŒº', 'ðŸŒ»', 'ðŸŒ·', 'ðŸŒ¹'],
  'nature': ['ðŸŒ¿', 'ðŸƒ', 'ðŸŒ±', 'ðŸŒ²', 'ðŸŒ³'],
  
  // Food & Drink
  'food': ['ðŸ•', 'ðŸ”', 'ðŸŸ', 'ðŸœ', 'ðŸ±'],
  'pizza': ['ðŸ•', 'ðŸ´', 'ðŸ˜‹', 'ðŸ¤¤', 'ðŸ‘Œ'],
  'burger': ['ðŸ”', 'ðŸŸ', 'ðŸ¥¤', 'ðŸ˜‹', 'ðŸ¤¤'],
  'coffee': ['â˜•', 'ðŸµ', 'â˜•', 'ðŸ¥', 'ðŸ“š'],
  'cake': ['ðŸŽ‚', 'ðŸ°', 'ðŸ§', 'ðŸŽ‰', 'ðŸŽˆ'],
  'birthday': ['ðŸŽ‚', 'ðŸŽ‰', 'ðŸŽˆ', 'ðŸŽ', 'ðŸ¥³'],
  'drink': ['ðŸ¥¤', 'ðŸ¹', 'ðŸ¸', 'ðŸ·', 'ðŸº'],
  'wine': ['ðŸ·', 'ðŸ¾', 'ðŸ¥‚', 'ðŸ‡', 'ðŸ§€'],
  'breakfast': ['ðŸ¥', 'â˜•', 'ðŸ¥ž', 'ðŸ³', 'ðŸ¥“'],
  'lunch': ['ðŸ”', 'ðŸ•', 'ðŸ¥—', 'ðŸœ', 'ðŸ±'],
  'dinner': ['ðŸ', 'ðŸ–', 'ðŸ¥˜', 'ðŸ·', 'ðŸ´'],
  
  // Activities & Sports
  'travel': ['âœˆï¸', 'ðŸ—ºï¸', 'ðŸ§³', 'ðŸŒ', 'ðŸ“¸'],
  'trip': ['âœˆï¸', 'ðŸ—ºï¸', 'ðŸ§³', 'ðŸŒ', 'ðŸ–ï¸'],
  'adventure': ['ðŸ—ºï¸', 'â›°ï¸', 'ðŸ§­', 'ðŸ•ï¸', 'âœˆï¸'],
  'vacation': ['ðŸ–ï¸', 'âœˆï¸', 'ðŸŒ´', 'ðŸï¸', 'ðŸ˜Ž'],
  'holiday': ['ðŸ–ï¸', 'âœˆï¸', 'ðŸŽ‰', 'ðŸŒ´', 'ðŸ˜Ž'],
  'gym': ['ðŸ’ª', 'ðŸ‹ï¸', 'ðŸ¤¸', 'ðŸƒ', 'âš¡'],
  'workout': ['ðŸ’ª', 'ðŸ‹ï¸', 'ðŸƒ', 'ðŸ¤¸', 'ðŸ”¥'],
  'fitness': ['ðŸ’ª', 'ðŸ‹ï¸', 'ðŸƒ', 'ðŸ¥—', 'âš¡'],
  'run': ['ðŸƒ', 'ðŸ‘Ÿ', 'ðŸ’ª', 'âš¡', 'ðŸ”¥'],
  'sport': ['âš½', 'ðŸ€', 'ðŸŽ¾', 'ðŸ†', 'ðŸ¥‡'],
  'win': ['ðŸ†', 'ðŸ¥‡', 'ðŸŽ‰', 'ðŸ‘', 'ðŸ”¥'],
  'music': ['ðŸŽµ', 'ðŸŽ¶', 'ðŸŽ¸', 'ðŸŽ¤', 'ðŸŽ§'],
  'concert': ['ðŸŽµ', 'ðŸŽ¸', 'ðŸŽ¤', 'ðŸŽ‰', 'ðŸ”¥'],
  'dance': ['ðŸ’ƒ', 'ðŸ•º', 'ðŸŽ¶', 'ðŸŽ‰', 'âœ¨'],
  'art': ['ðŸŽ¨', 'ðŸ–¼ï¸', 'âœ¨', 'ðŸ–Œï¸', 'ðŸŽ­'],
  'photography': ['ðŸ“¸', 'ðŸ“·', 'âœ¨', 'ðŸŒŸ', 'ðŸŽ¨'],
  'photo': ['ðŸ“¸', 'ðŸ“·', 'âœ¨', 'ðŸŒŸ', 'ðŸŽ¨'],
  
  // Animals
  'dog': ['ðŸ¶', 'ðŸ•', 'ðŸ¦´', 'ðŸ¾', 'â¤ï¸'],
  'cat': ['ðŸ±', 'ðŸˆ', 'ðŸ˜»', 'ðŸ¾', 'â¤ï¸'],
  'pet': ['ðŸ¶', 'ðŸ±', 'ðŸ¾', 'â¤ï¸', 'ðŸ¥°'],
  
  // Objects & Technology
  'phone': ['ðŸ“±', 'ðŸ’¬', 'ðŸ“¸', 'ðŸ“²', 'ðŸ”‹'],
  'car': ['ðŸš—', 'ðŸŽï¸', 'ðŸ›£ï¸', 'âš¡', 'ðŸ”¥'],
  'book': ['ðŸ“š', 'ðŸ“–', 'â˜•', 'ðŸ¤“', 'âœ¨'],
  'read': ['ðŸ“š', 'ðŸ“–', 'â˜•', 'ðŸ¤“', 'ðŸ’¡'],
  'study': ['ðŸ“š', 'ðŸ“–', 'âœï¸', 'ðŸ’»', 'ðŸ¤“'],
  'work': ['ðŸ’¼', 'ðŸ’»', 'ðŸ“Š', 'â˜•', 'ðŸ’ª'],
  
  // Times & Events
  'morning': ['ðŸŒ…', 'â˜•', 'ðŸ¥', 'ðŸŒž', 'âœ¨'],
  'night': ['ðŸŒ™', 'âœ¨', 'ðŸŒƒ', 'ðŸŒŒ', 'ðŸŒ '],
  'evening': ['ðŸŒ†', 'ðŸŒ‡', 'ðŸŒ™', 'âœ¨', 'ðŸ·'],
  'weekend': ['ðŸŽ‰', 'ðŸ¥³', 'ðŸ˜Ž', 'ðŸ¹', 'ðŸ–ï¸'],
  'friday': ['ðŸŽ‰', 'ðŸ¥³', 'ðŸ¹', 'ðŸ˜Ž', 'ðŸ”¥'],
  
  // Weather
  'rain': ['ðŸŒ§ï¸', 'â˜”', 'ðŸ’§', 'ðŸŒˆ', 'â˜ï¸'],
  'snow': ['â„ï¸', 'â›„', 'â˜ƒï¸', 'ðŸŒ¨ï¸', 'â›·ï¸'],
  'sunny': ['â˜€ï¸', 'ðŸŒž', 'ðŸ˜Ž', 'ðŸŒ»', 'ðŸŒˆ'],
  
  // General positive vibes
  'good': ['ðŸ‘', 'ðŸ˜Š', 'âœ¨', 'â­', 'ðŸ’¯'],
  'best': ['ðŸ†', 'â­', 'ðŸ’¯', 'ðŸ”¥', 'ðŸ‘‘'],
  'new': ['âœ¨', 'ðŸ†•', 'ðŸŽ‰', 'â­', 'ðŸ’«'],
  'life': ['â¤ï¸', 'âœ¨', 'ðŸŒŸ', 'ðŸ’«', 'ðŸŒˆ'],
  'day': ['â˜€ï¸', 'ðŸŒ…', 'âœ¨', 'ðŸ˜Š', 'ðŸ’«'],
  'time': ['â°', 'â±ï¸', 'âœ¨', 'â­', 'ðŸ’«'],
  'moment': ['ðŸ“¸', 'âœ¨', 'â­', 'ðŸ’«', 'â¤ï¸'],
  'memories': ['ðŸ“¸', 'â¤ï¸', 'âœ¨', 'ðŸŒŸ', 'ðŸ’•'],
  'dream': ['âœ¨', 'ðŸ’«', 'ðŸŒŸ', 'â˜ï¸', 'ðŸŒ™'],
  'shine': ['âœ¨', 'â­', 'ðŸŒŸ', 'ðŸ’«', 'â˜€ï¸'],
  'bright': ['âœ¨', 'ðŸ’¡', 'ðŸŒŸ', 'â˜€ï¸', 'â­'],
  'glow': ['âœ¨', 'ðŸŒŸ', 'ðŸ’«', 'â­', 'ðŸ”¥'],
  'vibes': ['âœ¨', 'ðŸŒŠ', 'ðŸ˜Ž', 'ðŸ”¥', 'ðŸ’«'],
  'energy': ['âš¡', 'ðŸ”¥', 'ðŸ’ª', 'âœ¨', 'ðŸŒŸ'],
  'magic': ['âœ¨', 'ðŸª„', 'ðŸŒŸ', 'ðŸ’«', 'ðŸŽ©'],
  'perfect': ['ðŸ’¯', 'âœ¨', 'â­', 'ðŸ‘Œ', 'ðŸ”¥'],
};

/**
 * Select emojis based on keywords from caption and image description
 */
export const selectEmojisFromKeywords = (
  caption: string,
  imageDescription?: string
): string[] => {
  const text = `${caption} ${imageDescription || ''}`.toLowerCase();
  const selectedEmojis = new Set<string>();
  
  // Find matching emojis from keywords
  Object.entries(EMOJI_KEYWORDS).forEach(([keyword, emojis]) => {
    if (text.includes(keyword)) {
      // Add random emoji from matching keyword
      const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
      selectedEmojis.add(randomEmoji);
    }
  });
  
  // If no matches, add some generic positive emojis
  if (selectedEmojis.size === 0) {
    selectedEmojis.add('âœ¨');
    selectedEmojis.add('â­');
  }
  
  // Convert to array and limit to 4
  const emojiArray = Array.from(selectedEmojis);
  
  // Randomly select 2-4 emojis
  const count = Math.min(Math.floor(Math.random() * 3) + 2, emojiArray.length); // 2-4
  const shuffled = emojiArray.sort(() => Math.random() - 0.5);
  
  return shuffled.slice(0, count);
};

/**
 * Generate random safe zone positions for emojis
 * Avoids center and distributes across corners and edges
 */
export interface EmojiPosition {
  left: number; // percentage
  top: number; // percentage
}

export const generateSafeZonePositions = (count: number): EmojiPosition[] => {
  // Define safe zones (avoiding center)
  const zones = [
    { left: 5, top: 5 },      // top-left
    { left: 85, top: 5 },     // top-right
    { left: 5, top: 85 },     // bottom-left
    { left: 85, top: 85 },    // bottom-right
    { left: 5, top: 45 },     // mid-left
    { left: 85, top: 45 },    // mid-right
    { left: 45, top: 5 },     // top-mid
    { left: 45, top: 85 },    // bottom-mid
  ];
  
  // Shuffle zones
  const shuffled = zones.sort(() => Math.random() - 0.5);
  
  // Return requested number of positions with slight randomness
  return shuffled.slice(0, count).map(zone => ({
    left: zone.left + (Math.random() * 10 - 5), // Â±5% randomness
    top: zone.top + (Math.random() * 10 - 5),
  }));
};
